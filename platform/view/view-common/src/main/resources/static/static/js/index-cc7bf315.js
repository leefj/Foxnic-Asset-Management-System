import{a6 as t,X as o,l as A,a7 as E,a8 as U,a9 as V,d as B,r as h,c as N,q as k,e as c,w as y,u as a,F as G,o as j,aa as u,j as K}from"./index-232a8936.js";import{l as _}from"./index-6fa0c8b2.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_lang-1e387b84.js";import{u as I,a as z}from"./chartEditStore-45e70a9f.js";import{l as F}from"./plugin-0e60a394.js";import{i as H}from"./icon-b66964c1.js";const{CopyIcon:W,CutIcon:X,ClipboardOutlineIcon:Y,TrashIcon:q,ChevronDownIcon:J,ChevronUpIcon:Q,LockOpenOutlineIcon:Z,LockClosedOutlineIcon:ee,EyeOutlineIcon:te,EyeOffOutlineIcon:ne}=H.ionicons5,{UpToTopIcon:oe,DownToBottomIcon:ae,PaintBrushIcon:le,Carbon3DSoftwareIcon:ie,Carbon3DCursorIcon:se}=H.carbon,e=I(),O=(n=3)=>({type:"divider",key:`d${n}`}),f=[{label:"锁定",key:t.LOCK,icon:o(ee),fnHandle:e.setLock},{label:"解锁",key:t.UNLOCK,icon:o(Z),fnHandle:e.setUnLock},{label:"隐藏",key:t.HIDE,icon:o(ne),fnHandle:e.setHide},{label:"显示",key:t.SHOW,icon:o(te),fnHandle:e.setShow},{type:"divider",key:"d0"},{label:"复制",key:t.COPY,icon:o(W),fnHandle:e.setCopy},{label:"剪切",key:t.CUT,icon:o(X),fnHandle:e.setCut},{label:"粘贴",key:t.PARSE,icon:o(Y),fnHandle:e.setParse},{type:"divider",key:"d1"},{label:"置顶",key:t.TOP,icon:o(oe),fnHandle:e.setTop},{label:"置底",key:t.BOTTOM,icon:o(ae),fnHandle:e.setBottom},{label:"上移",key:t.UP,icon:o(Q),fnHandle:e.setUp},{label:"下移",key:t.DOWN,icon:o(J),fnHandle:e.setDown},{type:"divider",key:"d2"},{label:"清空剪贴板",key:t.CLEAR,icon:o(le),fnHandle:e.setRecordChart},{label:"删除",key:t.DELETE,icon:o(q),fnHandle:e.removeComponentList}],m=[{label:"创建分组",key:t.GROUP,icon:o(ie),fnHandle:e.setGroup},{label:"解除分组",key:t.UN_GROUP,icon:o(se),fnHandle:e.setUnGroup}],re=[t.PARSE,t.CLEAR],S=(n,l)=>{if(!l)return n;const i=[];return l.forEach(d=>{i.push(...n.filter(s=>s.key===d))}),i},ce=(n,l)=>l?n.filter(i=>l.findIndex(d=>d!==i.key)!==-1):n,r=A([]),de=(n,l,i,d,s)=>{n.stopPropagation(),n.preventDefault();let p=n.target;for(;p instanceof SVGElement;)p=p.parentNode;e.setTargetSelectChart(l&&l.id),e.setRightMenuShow(!1),e.getTargetChart.selectId.length>1?r.value=m:r.value=f,l||(r.value=S(E(r.value),re)),d&&(r.value=ce([...m,O(),...f],d)),s&&(r.value=S([...m,O(),...f],s)),i&&(r.value=i(U(E(r.value)),[...m,...f],l)),V().then(()=>{e.setMousePosition(n.clientX,n.clientY),e.setRightMenuShow(!0)})},ue=()=>(r.value=f,{menuOptions:r,defaultOptions:f,defaultMultiSelectOptions:m,handleContextMenu:de,onClickOutSide:()=>{e.setRightMenuShow(!1)},handleMenuSelect:i=>{e.setRightMenuShow(!1);const d=r.value.filter(s=>s.key===i);r.value.forEach(s=>{if(s.key===i){if(s.fnHandle){s.fnHandle();return}d||F()}})},mousePosition:e.getMousePosition}),_e={class:"go-chart"},fe={style:{overflow:"hidden",display:"flex"}},pe=B({__name:"index",setup(n){const l=z(),i=I();l.canvasInit(i.getEditCanvas);const d=_(()=>u(()=>import("./index-75cae210.js"),["static/js/index-75cae210.js","static/js/index-232a8936.js","static/css/index-9c2eb289.css","static/js/plugin-0e60a394.js","static/js/icon-b66964c1.js","static/js/useKeyboard.hook-a7f84a08.js","static/js/chartEditStore-45e70a9f.js","static/js/chartLayoutStore-b1ae0ff3.js","static/css/index-dba7a5d3.css"])),s=_(()=>u(()=>import("./index-67a9b505.js"),["static/js/index-67a9b505.js","static/js/index-232a8936.js","static/css/index-9c2eb289.css","static/js/plugin-0e60a394.js","static/js/icon-b66964c1.js","static/js/chartEditStore-45e70a9f.js","static/js/useSyncUpdate.hook-ec30cf8c.js","static/js/chartLayoutStore-b1ae0ff3.js","static/js/index-81daa372.js","static/js/SettingItem-2752cac5.js","static/css/SettingItemBox-462ae6ed.css","static/js/SettingItemBox-ba5c9333.js","static/js/CollapseItem.vue_vue_type_script_setup_true_lang-bbd36025.js","static/js/index.esm.min-94a18cbf.js","static/js/http-e7ed94fe.js","static/js/lodash-b5580029.js","static/js/fileTypeEnum-21359a08.js","static/css/index-51120298.css","static/css/index-38dab1f6.css"])),p=_(()=>u(()=>import("./index-4bd0df30.js"),["static/js/index-4bd0df30.js","static/js/index-232a8936.js","static/css/index-9c2eb289.css","static/js/icon-b66964c1.js","static/js/chartEditStore-45e70a9f.js","static/js/plugin-0e60a394.js","static/css/index-9866fca2.css"])),b=_(()=>u(()=>import("./index-860f28ef.js"),["static/js/index-860f28ef.js","static/js/index-232a8936.js","static/css/index-9c2eb289.css","static/js/index-93bcd10b.js","static/js/icon-b66964c1.js","static/css/index-366d23c6.css","static/js/chartLayoutStore-b1ae0ff3.js","static/js/chartEditStore-45e70a9f.js","static/js/plugin-0e60a394.js","static/js/index-81daa372.js","static/js/SettingItem-2752cac5.js","static/css/SettingItemBox-462ae6ed.css","static/js/SettingItemBox-ba5c9333.js","static/js/CollapseItem.vue_vue_type_script_setup_true_lang-bbd36025.js","static/js/index.esm.min-94a18cbf.js","static/js/http-e7ed94fe.js","static/js/lodash-b5580029.js","static/js/fileTypeEnum-21359a08.js","static/css/index-51120298.css","static/js/index-6fa0c8b2.js","static/css/index-83eadabc.css","static/js/index.vue_vue_type_script_setup_true_lang-1e387b84.js","static/css/index-1ab4670e.css","static/css/index-58f902b6.css"])),g=_(()=>u(()=>import("./index-6ba64390.js").then(C=>C.i),["static/js/index-6ba64390.js","static/js/index-232a8936.js","static/css/index-9c2eb289.css","static/js/index-93bcd10b.js","static/js/icon-b66964c1.js","static/css/index-366d23c6.css","static/js/index-6fa0c8b2.js","static/css/index-83eadabc.css","static/js/index-81daa372.js","static/js/SettingItem-2752cac5.js","static/css/SettingItemBox-462ae6ed.css","static/js/SettingItemBox-ba5c9333.js","static/js/CollapseItem.vue_vue_type_script_setup_true_lang-bbd36025.js","static/js/chartEditStore-45e70a9f.js","static/js/plugin-0e60a394.js","static/js/index.esm.min-94a18cbf.js","static/js/http-e7ed94fe.js","static/js/lodash-b5580029.js","static/js/fileTypeEnum-21359a08.js","static/css/index-51120298.css","static/js/chartLayoutStore-b1ae0ff3.js","static/css/index-524fca58.css"])),P=_(()=>u(()=>import("./index-a223c9c5.js"),["static/js/index-a223c9c5.js","static/js/index-232a8936.js","static/css/index-9c2eb289.css","static/js/index-6fa0c8b2.js","static/js/icon-b66964c1.js","static/css/index-83eadabc.css","static/js/index-93bcd10b.js","static/css/index-366d23c6.css","static/js/chartLayoutStore-b1ae0ff3.js","static/js/chartEditStore-45e70a9f.js","static/js/plugin-0e60a394.js","static/css/index-73412914.css"])),T=_(()=>u(()=>import("./index-ce4974b3.js"),["static/js/index-ce4974b3.js","static/js/chartLayoutStore-b1ae0ff3.js","static/js/index-232a8936.js","static/css/index-9c2eb289.css","static/js/chartEditStore-45e70a9f.js","static/js/plugin-0e60a394.js","static/js/icon-b66964c1.js"])),{menuOptions:R,onClickOutSide:w,mousePosition:v,handleMenuSelect:x}=ue();return(C,me)=>{const D=h("n-layout-content"),L=h("n-layout"),M=h("n-dropdown");return j(),N(G,null,[k("div",_e,[c(L,null,{default:y(()=>[c(a($),null,{left:y(()=>[c(a(d))]),center:y(()=>[c(a(p))]),"ri-left":y(()=>[c(a(s))]),_:1}),c(D,{"content-style":"overflow:hidden; display: flex"},{default:y(()=>[k("div",fe,[c(a(g)),c(a(b))]),c(a(P))]),_:1})]),_:1})]),c(M,{placement:"bottom-start",trigger:"manual",size:"small",x:a(v).x,y:a(v).y,options:a(R),show:a(i).getRightMenuShow,"on-clickoutside":a(w),onSelect:a(x)},null,8,["x","y","options","show","on-clickoutside","onSelect"]),c(a(T))],64)}}});const ye=K(pe,[["__scopeId","data-v-28f723f0"]]),Se=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{O as d,Se as i,ue as u};
