var R=Object.defineProperty;var C=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var S=(n,e,o)=>e in n?R(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,c=(n,e)=>{for(var o in e||(e={}))O.call(e,o)&&S(n,o,e[o]);if(C)for(var o of C(e))b.call(e,o)&&S(n,o,e[o]);return n};import{d as G,C as L,a0 as B,r as h,o as p,E as _,w as m,c as k,F as H,s as w,G as P,q as D,t as N,X as d,N as F,b0 as V,b1 as j,S as l,aC as u,O as q,j as M}from"./index-232a8936.js";import{g as W}from"./plugin-0e60a394.js";import{u as X}from"./chartEditStore-45e70a9f.js";import{s as z}from"./useSyncUpdate.hook-ec30cf8c.js";import{i as J}from"./icon-b66964c1.js";import{l as K}from"./lodash-b5580029.js";import"./chartLayoutStore-b1ae0ff3.js";import"./index-81daa372.js";import"./SettingItem-2752cac5.js";/* empty css                                                                       */import"./SettingItemBox-ba5c9333.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-bbd36025.js";import"./index.esm.min-94a18cbf.js";import"./http-e7ed94fe.js";import"./fileTypeEnum-21359a08.js";const Q=G({__name:"index",setup(n){const{BrowsersOutlineIcon:e,SendIcon:o,AnalyticsIcon:E}=J.ionicons5,f=X(),T=L(),y=()=>{const r=F(V.CHART_PREVIEW_NAME,"href");if(!r)return;const{id:i}=T.params,s=typeof i=="string"?i:i[0],a=f.getStorageInfo,t=j(l.GO_CHART_STORAGE_LIST)||[];if(t!=null&&t.length){const v=t.findIndex(A=>A.id===s);v!==-1?(t.splice(v,1,c({id:s},a)),u(l.GO_CHART_STORAGE_LIST,t)):(t.push(c({id:s},a)),u(l.GO_CHART_STORAGE_LIST,t))}else u(l.GO_CHART_STORAGE_LIST,[c({id:s},a)]);q(r,[s],void 0,!0)},I=()=>{W({message:"想体验发布功能，请前往查看: https://demo.mtruning.club/#/login。源码需切换到：master-fetch 分支。",positiveText:"了然",closeNegativeText:!0,onPositiveCallback:()=>{}})},g=[{select:!0,title:"同步内容",type:"primary",icon:d(E),event:z},{select:!0,title:"预览",icon:d(e),event:y},{select:!0,title:"发布",icon:d(o),event:I}],x=B(()=>{if(f.getEditCanvas.isCodeEdit)return g;const r=K.cloneDeep(g);return r.shift(),r});return(r,i)=>{const s=h("n-button"),a=h("n-space");return p(),_(a,{class:"go-mt-0"},{default:m(()=>[(p(!0),k(H,null,w(x.value,t=>(p(),_(s,{key:t.title,type:t.type,ghost:"",onClick:t.event},{icon:m(()=>[(p(),_(P(t.icon)))]),default:m(()=>[D("span",null,N(t.title),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})}}});const mt=M(Q,[["__scopeId","data-v-2c5117b1"]]);export{mt as default};
