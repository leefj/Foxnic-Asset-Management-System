var xt=Object.defineProperty,Et=Object.defineProperties;var bt=Object.getOwnPropertyDescriptors;var Ze=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable;var Qe=(e,o,t)=>o in e?xt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,P=(e,o)=>{for(var t in o||(o={}))Lt.call(o,t)&&Qe(e,t,o[t]);if(Ze)for(var t of Ze(o))kt.call(o,t)&&Qe(e,t,o[t]);return e},fe=(e,o)=>Et(e,bt(o));var ue=(e,o,t)=>new Promise((a,n)=>{var v=u=>{try{g(t.next(u))}catch(d){n(d)}},l=u=>{try{g(t.throw(u))}catch(d){n(d)}},g=u=>u.done?a(u.value):Promise.resolve(u.value).then(v,l);g((t=t.apply(e,o)).next())});import{m as ze,Z as ut,cF as Mt,aB as Ee,cG as N,b6 as Oe,a4 as Dt,d as Z,b5 as me,l as Ce,Y as $,o as x,c as B,b as Ve,F as ae,s as ie,am as se,al as q,u as c,a2 as he,q as R,h as ee,at as dt,D as X,w as b,E as de,an as Xe,ao as be,ap as Ge,aq as pt,a3 as J,X as ft,p as We,a5 as et,J as ce,bd as vt,r as H,cH as It,W as Me,j as K,cI as tt,z as De,A as Ie,e as L,g as $t,f as _e,t as ne,aN as Rt,ct as G,cu as F,cp as Ot,cJ as Ut,aA as Ht,cK as At,a6 as Pt,cL as Yt,B as Bt,a9 as ot,O as Ue,Q as He,ba as Xt,M as Gt,cM as Nt,b1 as gt,N as Kt,a_ as Ft,S as we,az as Ae,bi as zt}from"./index-c6cc3b14.js";import{u as qe,d as Vt}from"./index-26c6a268.js";import{u as te,f as W,g as D,h as xe,a as Wt}from"./chartEditStore-3ee495ca.js";import{e as qt,S as jt}from"./index-68969097.js";import{a as Jt}from"./useKeyboard.hook-09dba9eb.js";import{a as Zt,b as nt,l as Qt,g as eo}from"./plugin-0dcb0bd6.js";import{l as Le}from"./lodash-c32566df.js";import{C as to}from"./index-6d528f21.js";import{u as ht,C as _t}from"./chartLayoutStore-fa484834.js";import{i as pe}from"./icon-8314374d.js";import{G as oo}from"./index.vue_vue_type_script_setup_true_lang-195adfbf.js";import{F as st}from"./fileTypeEnum-21359a08.js";import{u as mt,a as no}from"./useSyncUpdate.hook-402738a1.js";import"./index-af8cb105.js";import"./SettingItem-ec2fd044.js";/* empty css                                                                       */import"./SettingItemBox-cf908047.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-81d1b4a3.js";import"./index.esm.min-4d91f069.js";import"./http-abbaebe7.js";const ve=te(),so=e=>{let o=()=>{};ze(()=>ue(void 0,null,function*(){ve.setEditCanvas(W.EDIT_LAYOUT_DOM,document.getElementById("go-chart-edit-layout")),ve.setEditCanvas(W.EDIT_CONTENT_DOM,document.getElementById("go-chart-edit-content")),yield e(),o=ve.listenerScale()})),ut(()=>{ve.setEditCanvas(W.EDIT_LAYOUT_DOM,null),ve.setEditCanvas(W.EDIT_CONTENT_DOM,null),o()})},C=te(),{onClickOutSide:ao}=qe(),ro=e=>ue(void 0,null,function*(){e.preventDefault();try{Zt();const o=e.dataTransfer.getData(Mt.DRAG_KEY);if(!o){nt();return}C.setEditCanvas(W.IS_CREATE,!1);const t=Ee(o);if(t.disabled)return;let a=yield qt(t);t.redirectComponent&&(t.dataset&&(a.option.dataset=t.dataset),a.chartConfig.title=t.title,a.chartConfig.chartFrame=t.chartFrame),N(a,e.offsetX-a.attr.w/2,e.offsetY-a.attr.h/2),C.addComponentList(a,!1,!0),C.setTargetSelectChart(a.id),nt()}catch(o){Qt(),window.$message.warning("图表正在研发中, 敬请期待...")}}),at=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},Ct=(e,o)=>{if(o){C.setTargetSelectChart(o.id);return}C.setTargetSelectChart(void 0)},co=(e,o)=>{var d;if(e.which==2||(d=window.$KeyboardActive)!=null&&d.space)return;Ct();const t=e.offsetX,a=e.offsetY,n=e.screenX,v=e.screenY,l=C.getEditCanvas.scale;C.setMousePosition(void 0,void 0,t,a);const g=Le.throttle(p=>{C.setTargetSelectChart(),C.setEditCanvas(W.IS_SELECT,!0);const r=t+p.screenX-n,s=a+p.screenY-v;C.setMousePosition(r,s);const m={x1:0,y1:0,x2:0,y2:0};r>t&&s>a?(m.x1=t,m.y1=a,m.x2=Math.round(t+(p.screenX-n)/l),m.y2=Math.round(a+(p.screenY-v)/l)):r>t&&s<a?(m.x1=t,m.y1=Math.round(a-(v-p.screenY)/l),m.x2=Math.round(t+(p.screenX-n)/l),m.y2=a):r<t&&s>a?(m.x1=Math.round(t-(n-p.screenX)/l),m.y1=a,m.x2=t,m.y2=Math.round(a+(p.screenY-v)/l)):(m.x1=Math.round(t-(n-p.screenX)/l),m.y1=Math.round(a-(v-p.screenY)/l),m.x2=t,m.y2=a),C.getComponentList.forEach(i=>{if(!C.getTargetChart.selectId.includes(i.id)){const{x:y,y:S,w,h:E}=i.attr,T={x1:y,y1:S,x2:y+w,y2:S+E};T.x1-m.x1>=0&&T.y1-m.y1>=0&&T.x2-m.x2<=0&&T.y2-m.y2<=0&&!i.status.lock&&!i.status.hide&&C.setTargetSelectChart(i.id,!0)}})},30),u=()=>{g.cancel(),C.setEditCanvas(W.IS_SELECT,!1),C.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",u)},yt=()=>({mouseClickHandle:(n,v)=>{var l;if(n.preventDefault(),n.stopPropagation(),!v.status.lock&&(l=window.$KeyboardActive)!=null&&l.ctrl)if(C.targetChart.selectId.includes(v.id)){const g=C.targetChart.selectId.filter(u=>u!==v.id);C.setTargetSelectChart(g)}else C.setTargetSelectChart(v.id,!0)},mousedownHandle:(n,v)=>{var S;if(n.preventDefault(),n.stopPropagation(),v.status.lock||(ao(),n.buttons===Oe.LEFT&&((S=window.$KeyboardActive)!=null&&S.ctrl)))return;const l=C.getTargetChart.selectId;if(n.buttons===Oe.RIGHT&&l.length>1&&l.includes(v.id)||(C.setTargetSelectChart(v.id),n.buttons===Oe.RIGHT))return;const g=C.getEditCanvas.scale,u=C.getEditCanvasConfig.width,d=C.getEditCanvasConfig.height,p=new Map;C.getTargetChart.selectId.forEach(w=>{const E=C.fetchTargetIndex(w);if(E!==-1){const{x:T,y:f,w:k,h:M}=Dt(C.getComponentList[E]).attr;p.set(w,{x:T,y:f,w:k,h:M})}});const r=n.screenX,s=n.screenY;let m=[];C.getTargetChart.selectId.forEach(w=>{if(!p.has(w))return;const E=C.fetchTargetIndex(w);m.push(Le.cloneDeep(C.getComponentList[E]))}),C.setMousePosition(void 0,void 0,r,s);const i=Le.throttle(w=>{C.setEditCanvas(W.IS_DRAG,!0),C.setMousePosition(w.screenX,w.screenY);let E=(w.screenX-r)/g,T=(w.screenY-s)/g;C.getTargetChart.selectId.forEach(f=>{if(!p.has(f))return;const k=C.fetchTargetIndex(f),{x:M,y:oe,w:Y,h:_}=p.get(f),O=C.getComponentList[k];let h=Math.round(M+E),I=Math.round(oe+T);const U=50;h=h<-Y+U?-Y+U:h,I=I<-_+U?-_+U:I,h=h>u-U?u-U:h,I=I>d-U?d-U:I,O&&(O.attr=Object.assign(O.attr,{x:h,y:I}))})},20),y=()=>{try{C.setMousePosition(0,0,0,0),C.setEditCanvas(W.IS_DRAG,!1),m.length&&(C.getTargetChart.selectId.forEach(w=>{if(!p.has(w))return;const E=C.fetchTargetIndex(w),T=C.getComponentList[E];m.forEach(f=>{f.id===w&&(f.attr=Object.assign(f.attr,{offsetX:T.attr.x-f.attr.x,offsetY:T.attr.y-f.attr.y}))})}),C.moveComponentList(m)),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",y)}catch(w){console.log(w)}};document.addEventListener("mousemove",i),document.addEventListener("mouseup",y)},mouseenterHandle:(n,v)=>{n.preventDefault(),n.stopPropagation(),C.getEditCanvas.isSelect||C.setTargetHoverChart(v.id)},mouseleaveHandle:(n,v)=>{n.preventDefault(),n.stopPropagation(),C.setEditCanvas(W.IS_DRAG,!1),C.setTargetHoverChart(void 0)}}),lo=(e,o,t)=>{e.stopPropagation(),e.preventDefault(),C.setEditCanvas(W.IS_DRAG,!0);const a=C.getEditCanvas.scale,n=t.x,v=t.y,l=t.w,g=t.h,u=e.screenX,d=e.screenY;C.setMousePosition(u,d);const p=Le.throttle(s=>{C.setMousePosition(s.screenX,s.screenY);let m=Math.round((s.screenX-u)/a),i=Math.round((s.screenY-d)/a);const y=/t/.test(o),S=/b/.test(o),w=/l/.test(o),E=/r/.test(o),T=g+(y?-i:S?i:0),f=l+(w?-m:E?m:0);t.h=T>0?T:0,t.w=f>0?f:0,t.x=n+(w?m:0),t.y=v+(y?i:0)},50),r=()=>{C.setEditCanvas(W.IS_DRAG,!1),C.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",r)},ke=(e,o)=>e?{zIndex:o+1,left:`${e.x}px`,top:`${e.y}px`}:{},le=(e,o)=>e?{width:`${o?o*e.w:e.w}px`,height:`${o?o*e.h:e.h}px`}:{},io=(e,o,t,a)=>{const{w:n,h:v}=t,l=/t/.test(e),g=/b/.test(e),u=/l/.test(e),d=/r/.test(e);let p=0,r=0;return e.length===2?(p=u?0:n,r=l?0:v):((l||g)&&(p=n/2,r=l?0:v),(u||d)&&(p=u?0:n,r=Math.floor(v/2))),{left:`${p}px`,top:`${r}px`,cursor:a[o]+"-resize"}},uo=["onMousedown"],po=Z({__name:"index",props:{item:{type:Object,required:!0},hiddenPoint:{type:Boolean,required:!1}},setup(e){const o=e;me(r=>({"2d925dfa":l.value}));const t=Ce(),a=te(),n=["t","r","b","l","lt","rt","lb","rb"],v=["n","e","s","w","nw","ne","sw","se"],l=$(()=>t.getAppTheme),g=$(()=>a.getEditCanvas[W.IS_DRAG]||o.item.status.lock?!1:o.item.id===a.getTargetChart.hoverId),u=$(()=>{const r=o.item.id;return o.item.status.lock?!1:a.getTargetChart.selectId.find(s=>s===r)}),d=$(()=>o.item.status.lock),p=$(()=>o.item.status.hide);return(r,s)=>(x(),B("div",{class:se(["go-shape-box",{lock:d.value,hide:p.value}])},[Ve(r.$slots,"default",{},void 0,!0),e.hiddenPoint?he("",!0):(x(!0),B(ae,{key:0},ie(u.value?n:[],(m,i)=>(x(),B("div",{class:se(`shape-point ${m}`),key:i,style:q(c(io)(m,i,e.item.attr,v)),onMousedown:y=>c(lo)(y,m,e.item.attr)},null,46,uo))),128)),R("div",{class:"shape-modal",style:q(c(le)(e.item.attr))},[R("div",{class:se(["shape-modal-select",{active:u.value}])},null,2),R("div",{class:se(["shape-modal-change",{selectActive:u.value,hoverActive:g.value}])},null,2)],4)],2))}});const Ne=ee(po,[["__scopeId","data-v-25c3c11c"]]),fo={class:"go-edit-group-box"},vo=Z({__name:"index",props:{groupData:{type:Object,required:!0},groupIndex:{type:Number,required:!0}},setup(e){const o=te(),{handleContextMenu:t}=qe(),{mouseenterHandle:a,mouseleaveHandle:n,mousedownHandle:v,mouseClickHandle:l}=yt(),g=(p,r,s)=>{const m=i=>r.filter(y=>i.includes(y.key));if(o.getTargetChart.selectId.length>1)return m([J.GROUP,J.DELETE]);{const i=[];s.status.lock?i.push(J.LOCK):i.push(J.UNLOCK),s.status.hide?i.push(J.HIDE):i.push(J.SHOW);const y=[J.UN_GROUP];return[...m(y),Vt(),...p.filter(S=>!i.includes(S.key))]}},u=$(()=>dt(o.getEditCanvasConfig.chartCustomThemeColorInfo)[o.getEditCanvasConfig.chartThemeColor]),d=$(()=>o.getEditCanvasConfig.chartThemeSetting);return(p,r)=>(x(),B("div",fo,[(x(),X(c(Ne),{key:e.groupData.id,"data-id":e.groupData.id,index:e.groupIndex,item:e.groupData,hiddenPoint:!0,class:se(c(Xe)(e.groupData.styles.animations)),style:q(P(P(P(P(P({},c(ke)(e.groupData.attr,e.groupIndex)),c(le)(e.groupData.attr)),c(be)(e.groupData.styles)),c(Ge)(e.groupData.styles)),c(pt)(e.groupData.styles))),onClick:r[0]||(r[0]=s=>c(l)(s,e.groupData)),onMousedown:r[1]||(r[1]=s=>c(v)(s,e.groupData)),onMouseenter:r[2]||(r[2]=s=>c(a)(s,e.groupData)),onMouseleave:r[3]||(r[3]=s=>c(n)(s,e.groupData)),onContextmenu:r[4]||(r[4]=s=>c(t)(s,e.groupData,g))},{default:b(()=>[(x(!0),B(ae,null,ie(e.groupData.groupList,s=>(x(),X(c(Ne),{key:s.id,"data-id":s.id,index:e.groupIndex,item:s,hiddenPoint:!0,style:q(P({},c(ke)(s.attr,e.groupIndex)))},{default:b(()=>[(x(),X(de(s.chartConfig.chartKey),{class:se(["edit-content-chart",c(Xe)(s.styles.animations)]),chartConfig:s,themeSetting:d.value,themeColor:u.value,style:q(P(P(P({},c(le)(s.attr)),c(be)(s.styles)),c(Ge)(s.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","item","style"]))),128))]),_:1},8,["data-id","index","item","class","style"]))]))}}),go={class:"go-edit-align-line"},ho=Z({__name:"index",setup(e){me(i=>({"2a25621e":l.value}));const o=Ce(),t=te(),a=ft(),n=We({lineArr:["rowt","rowc","rowb","coll","colc","colr"],select:new Map,sorptioned:{x:!1,y:!1}}),v=i=>i?{left:`${i.x?i.x:0}px`,top:`${i.y?i.y:0}px`}:{},l=$(()=>o.getAppTheme),g=$(()=>a.getChartAlignRange),u=$(()=>t.getEditCanvas[W.IS_DRAG]),d=(i,y)=>Math.abs(i-y)<=g.value,p=$(()=>t.getTargetChart.selectId),r=$(()=>t.getComponentList[t.fetchTargetIndex()]),s=$(()=>{var i;return((i=r.value)==null?void 0:i.attr)||{}}),m=$(()=>({id:"0",attr:{w:et(t.getEditCanvasConfig.width),h:et(t.getEditCanvasConfig.height),x:0,y:0,offsetX:0,offsetY:0,zIndex:0}}));return ce(()=>t.getMousePosition,vt(()=>{try{if(!u.value||p.value.length!==1)return;const i=s.value.w,y=s.value.h,S=s.value.x,w=S+i/2,E=S+i,T=[S,w,E],f=s.value.y,k=f+y/2,M=f+y,oe=[f,k,M];n.select.clear(),n.sorptioned.y=!1;const Y=t.getComponentList.map(_=>({id:_.id,attr:_.attr}));Y.push(m.value),n.lineArr.forEach(_=>{Y.forEach(O=>{if(p.value[0]===O.id)return;const h=O.attr.w,I=O.attr.h,U=O.attr.x,V=U+h/2,A=U+h,ye=[U,V,A],z=O.attr.y,j=z+I/2,Q=z+I,Je=[z,j,Q];_.includes("rowt")&&(d(f,z)&&(n.select.set(_,{y:z}),N(r.value,S,z)),d(f,j)&&(n.select.set(_,{y:j}),N(r.value,S,j)),d(f,Q)&&(n.select.set(_,{y:Q}),N(r.value,S,Q))),_.includes("rowc")&&(d(k,z)&&(n.select.set(_,{y:z}),N(r.value,S,z-y/2)),d(k,j)&&(n.select.set(_,{y:j}),N(r.value,S,j-y/2)),d(k,Q)&&(n.select.set(_,{y:Q}),N(r.value,S,Q-y/2))),_.includes("rowb")&&(d(M,z)&&(n.select.set(_,{y:z}),N(r.value,S,z-y)),d(M,j)&&(n.select.set(_,{y:j}),N(r.value,S,j-y)),d(M,Q)&&(n.select.set(_,{y:Q}),N(r.value,S,Q-y))),_.includes("coll")&&(d(S,U)&&(n.select.set(_,{x:U}),N(r.value,U,f)),d(S,V)&&(n.select.set(_,{x:V}),N(r.value,V,f)),d(S,A)&&(n.select.set(_,{x:A}),N(r.value,A,f))),_.includes("colc")&&(d(w,U)&&(n.select.set(_,{x:U}),N(r.value,U-i/2,f)),d(w,V)&&(n.select.set(_,{x:V}),N(r.value,V-i/2,f)),d(w,A)&&(n.select.set(_,{x:A}),N(r.value,A-i/2,f))),_.includes("colr")&&(d(E,U)&&(n.select.set(_,{x:U}),N(r.value,U-i,f)),d(E,V)&&(n.select.set(_,{x:V}),N(r.value,V-i,f)),d(E,A)&&(n.select.set(_,{x:A}),N(r.value,A-i,f)))})})}catch(i){console.log(i)}},200),{deep:!0}),ce(()=>u.value,i=>{i||(n.select.clear(),n.sorptioned.y=!1)}),(i,y)=>(x(),B("div",go,[(x(!0),B(ae,null,ie(n.lineArr,S=>(x(),B("div",{class:se(["line",[S.includes("row")?"row":"col",n.select.has(S)&&"visible"]]),key:S,style:q(v(n.select.get(S)))},null,6))),128))]))}});const _o=ee(ho,[["__scopeId","data-v-792c43f5"]]),mo=Z({__name:"index",setup(e){return(o,t)=>{const a=H("n-watermark");return x(),X(a,{id:"go-edit-watermark",content:c(It),cross:"",selectable:"","font-size":16,"line-height":16,width:500,height:150,"x-offset":12,"y-offset":80,rotate:-15},null,8,["content"])}}});const Co=ee(mo,[["__scopeId","data-v-15e7d440"]]),St=e=>(De("data-v-fd03a995"),e=e(),Ie(),e),yo=St(()=>R("div",{class:"select-background"},null,-1)),So=St(()=>R("div",{class:"select-border"},null,-1)),To=[yo,So],wo=Z({__name:"index",setup(e){me(g=>({"3a6a09b6":v.value}));const o=Ce(),t=te(),{isSelect:a,scale:n}=Me(t.getEditCanvas),v=$(()=>o.getAppTheme),l=K();return ce(()=>t.getMousePosition,g=>{if(!a.value)return;const{startX:u,startY:d,x:p,y:r}=g,s={zIndex:tt,x:0,y:0,w:0,h:0,offsetX:0,offsetY:0};p>u&&r>d?(s.x=u,s.y=d,s.w=Math.round((p-u)/n.value),s.h=Math.round((r-d)/n.value)):p>u&&r<d?(s.x=u,s.w=Math.round((p-u)/n.value),s.h=Math.round((d-r)/n.value),s.y=d-s.h):p<u&&r>d?(s.y=d,s.w=Math.round((u-p)/n.value),s.h=Math.round((r-d)/n.value),s.x=u-s.w):(s.w=Math.round((u-p)/n.value),s.h=Math.round((d-r)/n.value),s.x=u-s.w,s.y=d-s.h),l.value=P(P({},ke(s,tt)),le(s))},{deep:!0}),(g,u)=>c(a)?(x(),B("div",{key:0,class:"go-edit-select",style:q(l.value)},To,4)):he("",!0)}});const xo=ee(wo,[["__scopeId","data-v-fd03a995"]]),Eo=Z({__name:"index",setup(e){const o=te(),{getEditCanvasConfig:t,getEditCanvas:a}=Me(o),n=$(()=>({w:t.value.width,h:t.value.height})),v=$(()=>{const g={transform:`scale(${a.value.scale})`};return P(P({},le(n.value)),g)}),l=$(()=>{const g=a.value.isCreate&&{"z-index":99999};return P(P({},le(n.value)),g)});return(g,u)=>(x(),B("div",{class:"go-edit-range go-transition",style:q(v.value),onMousedown:u[0]||(u[0]=d=>c(co)(d,void 0))},[Ve(g.$slots,"default",{},void 0,!0),L(c(Co)),L(c(_o)),L(c(xo)),R("div",{class:"go-edit-range-model",style:q(l.value)},null,4)],36))}});const bo=ee(Eo,[["__scopeId","data-v-d34efa6e"]]),Tt=!!(typeof window!="undefined"&&window.document&&window.document.createElement);var Ke=!1,Fe=!1;try{var Pe={get passive(){return Ke=!0},get once(){return Fe=Ke=!0}};Tt&&(window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,!0))}catch(e){}function Lo(e,o,t,a){if(a&&typeof a!="boolean"&&!Fe){var n=a.once,v=a.capture,l=t;!Fe&&n&&(l=t.__once||function g(u){this.removeEventListener(o,g,v),t.call(this,u)},t.__once=l),e.addEventListener(o,l,Ke?a:v)}e.addEventListener(o,t,a)}function ko(e,o,t,a){var n=a&&typeof a!="boolean"?a.capture:a;e.removeEventListener(o,t,n),t.__once&&e.removeEventListener(o,t.__once,n)}function rt(e,o,t,a){return Lo(e,o,t,a),function(){ko(e,o,t,a)}}var ct=new Date().getTime();function Mo(e){var o=new Date().getTime(),t=Math.max(0,16-(o-ct)),a=setTimeout(e,t);return ct=o,a}var Do=["","webkit","moz","o","ms"],lt=Mo,it=function(o,t){return o+(o?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Tt&&Do.some(function(e){var o=it(e,"request");return o in window&&(it(e,"cancel"),lt=function(a){return window[o](a)}),!!lt});Function.prototype.bind.call(Function.prototype.call,[].slice);Function.prototype.bind.call(Function.prototype.call,[].slice);const Io={class:"go-sketch-rule"},$o={key:1,class:"fix-edit-screens-block"},Ye=20,Ro=Z({__name:"index",setup(e){me(h=>({"68cf994b":f.value,"117fb376":E.value,e7cb282c:r.value}));const o=te(),t=ht(),a=Ce();let n=[0,0],v=[0,0];const l=K(),g=K(!0),u=K(),d=K(),p=K(!1),r=K("auto"),{width:s,height:m}=Me(o.getEditCanvasConfig),i=K(0),y=K(0),S=We({h:[],v:[]}),w=$(()=>o.getEditCanvas.scale),E=$(()=>`${m.value*2}px`),T=$(()=>a.getDarkTheme?{bgColor:"#18181c",longfgColor:"#4d4d4d",shortfgColor:"#4d4d4d",fontColor:"#4d4d4d",shadowColor:"#18181c",borderColor:"#18181c",cornerActiveColor:"#18181c"}:{}),f=$(()=>a.getAppTheme),k=h=>{if(h.ctrlKey||h.metaKey){h.preventDefault();let I=w.value;if(h.wheelDelta>=0&&w.value<2){I=w.value+.05,o.setScale(I);return}h.wheelDelta<0&&w.value>.1&&(I=w.value-.05,o.setScale(I))}},M=()=>{if(!l.value)return;const h=l.value.getBoundingClientRect(),I=u.value.getBoundingClientRect();i.value=(h.left+Ye-I.left)/w.value,y.value=(h.top+Ye-I.top)/w.value},oe=h=>{var ye,z;if(h.preventDefault(),h.stopPropagation(),h.which==2)p.value=!0;else if(!((ye=window.$KeyboardActive)!=null&&ye.space))return;(z=document.activeElement)==null||z.blur();const I=h.pageX,U=h.pageY,V=rt(window,"mousemove",j=>{const Q=j.pageX-I,Je=j.pageY-U,[$e,Se]=n,[Re,Te]=v;n=[Se,Q],v=[Te,Je],l.value.scrollLeft-=Se>$e?Math.abs(Se-$e):-Math.abs(Se-$e),l.value.scrollTop-=Te>Re?Math.abs(Te-Re):-Math.abs(Te-Re)}),A=rt(window,"mouseup",()=>{V(),A(),n=[0,0],v=[0,0],p.value=!1})},Y=()=>{const h=document.getElementById("go-chart-edit-layout");return h?{height:h.clientHeight-25,width:h.clientWidth}:{width:s.value,height:m.value}},_=()=>{g.value=!1,setTimeout(()=>{g.value=!0},10)},O=()=>{const{width:h,height:I}=d.value.getBoundingClientRect(),{width:U,height:V}=Y();l.value.scrollLeft=h/2-U/2,l.value.scrollTop=I/2-V/2};return ce(()=>a.getDarkTheme,()=>{_()}),ce(()=>w.value,(h,I)=>{I!==h&&t.getRePositionCanvas?(t.setItemUnHandle(_t.RE_POSITION_CANVAS,!1),M(),setTimeout(()=>{O(),_()},400)):vt(_,20)}),ce(()=>p.value,h=>{r.value=h?"grab":"auto"}),ze(()=>{l.value&&(l.value.addEventListener("wheel",k,{passive:!1}),O())}),ut(()=>{l.value&&l.value.removeEventListener("wheel",k)}),window.onKeySpacePressHold=h=>{p.value=h},(h,I)=>{const U=H("sketch-rule");return x(),B("div",Io,[g.value?(x(),X(U,{key:0,thick:Ye,scale:w.value,width:Y().width,height:Y().height,startX:i.value,startY:y.value,lines:S,palette:T.value},null,8,["scale","width","height","startX","startY","lines","palette"])):he("",!0),R("div",{ref_key:"$app",ref:l,class:"edit-screens",onScroll:M},[R("div",{ref_key:"$container",ref:d,class:"edit-screen-container",style:q({width:c(s)*2+"px"})},[R("div",{ref_key:"refSketchRuleBox",ref:u,class:"canvas",onMousedown:oe,style:q({marginLeft:"-"+(Y().width/2-25)+"px"})},[R("div",{style:q({pointerEvents:p.value?"none":"auto"})},[Ve(h.$slots,"default",{},void 0,!0)],4)],36)],4)],544),c(a).getDarkTheme?(x(),B("div",$o)):he("",!0)])}}});const Oo=ee(Ro,[["__scopeId","data-v-c504d30f"]]),Be={[D.ADD]:"新增",[D.DELETE]:"删除",[D.UPDATE]:"更新",[D.MOVE]:"移动",[D.PASTE]:"粘贴",[D.COPY]:"复制",[D.CUT]:"剪切",[D.TOP]:"置顶",[D.BOTTOM]:"置底",[D.UP]:"上移",[D.DOWN]:"下移",[D.GROUP]:"成组",[D.UN_GROUP]:"解组",[D.LOCK]:"锁定",[D.UNLOCK]:"解锁",[D.HIDE]:"隐藏",[D.SHOW]:"显示",[xe.CANVAS]:"画布初始化"};var Uo=Array.prototype,Ho=Uo.reverse;function Ao(e){return e==null?e:Ho.call(e)}var Po=Ao;const Yo=$t(Po),wt=e=>(De("data-v-5a6ac549"),e=e(),Ie(),e),Bo={class:"go-flex-items-center"},Xo=wt(()=>R("span",{class:"btn-text"},"历史记录",-1)),Go={class:"history-list-box"},No=["title"],Ko=wt(()=>R("div",{class:"popover-modal"},null,-1)),Fo=Z({__name:"index",setup(e){const{DesktopOutlineIcon:o,PencilIcon:t,TrashIcon:a,CopyIcon:n,LayersIcon:v,DuplicateIcon:l,HelpOutlineIcon:g,LockClosedOutlineIcon:u,LockOpenOutlineIcon:d,EyeOffOutlineIcon:p,EyeOutlineIcon:r}=pe.ionicons5,{StackedMoveIcon:s,Carbon3DCursorIcon:m,Carbon3DSoftwareIcon:i}=pe.carbon,y=Wt(),S=T=>{if(T.targetType===xe.CANVAS)return o;switch(T.actionType){case D.UPDATE:return t;case D.DELETE:return a;case D.PASTE:return n;case D.TOP:return v;case D.BOTTOM:return v;case D.UP:return v;case D.DOWN:return v;case D.MOVE:return s;case D.ADD:return l;case D.GROUP:return m;case D.UN_GROUP:return i;case D.LOCK:return u;case D.UNLOCK:return d;case D.HIDE:return p;case D.SHOW:return r;default:return t}},w=T=>{if(T.targetType===xe.CANVAS)return Be[xe.CANVAS];if(T.actionType===D.GROUP||T.actionType===D.UN_GROUP)return`${Be[T.actionType]}`;if(T.historyData.length)return`${Be[T.actionType]} - ${T.historyData[0].chartConfig.title}`},E=$(()=>{const f=y.getBackStack.map(k=>({label:w(k),icon:S(k)}));return Yo(f.filter(k=>k.label))});return(T,f)=>{const k=H("n-button"),M=H("n-icon"),oe=H("n-text"),Y=H("n-scrollbar"),_=H("n-popover"),O=H("n-tooltip");return x(),B("div",Bo,[L(_,{class:"edit-history-popover","show-arrow":!1,size:"small",trigger:"click",placement:"top-start"},{trigger:b(()=>[L(k,{class:"mr-10",secondary:"",size:"small",disabled:E.value.length===0},{default:b(()=>[Xo]),_:1},8,["disabled"])]),default:b(()=>[R("div",Go,[L(Y,{style:{"max-height":"500px"}},{default:b(()=>[(x(!0),B(ae,null,ie(E.value,(h,I)=>(x(),B("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:I,title:h.label},[L(M,{class:"item-icon",size:"16",depth:2,component:h.icon},null,8,["component"]),L(oe,{depth:"2"},{default:b(()=>[_e(ne(h.label),1)]),_:2},1024)],8,No))),128))]),_:1}),Ko])]),_:1}),L(O,{trigger:"hover"},{trigger:b(()=>[L(M,{size:"21",depth:3},{default:b(()=>[L(c(g))]),_:1})]),default:b(()=>[R("span",null,"最多只保留"+ne(c(Rt))+"条记录",1)]),_:1})])}}});const zo=ee(Fo,[["__scopeId","data-v-5a6ac549"]]),je=e=>(De("data-v-f19379a6"),e=e(),Ie(),e),Vo=je(()=>R("th",null,"功能",-1)),Wo=je(()=>R("th",null,"Win 快捷键",-1)),qo=je(()=>R("span",null," Mac 快捷键 ",-1)),jo={key:0},Jo={key:1},Zo=Z({__name:"ShortcutKeyModal",props:{modelShow:Boolean},emits:["update:modelShow"],setup(e,{emit:o}){const t=e,{CloseIcon:a}=pe.ionicons5,n=K(!1);ce(()=>t.modelShow,g=>{n.value=g});const v=[{label:"拖拽画布",win:`${G.SPACE.toUpperCase()} + 🖱️ `,mac:`${F.SPACE.toUpperCase()} + 🖱️ `,macSource:!0},{label:"向 上/右/下/左 移动",win:`${G.CTRL.toUpperCase()} + ↑ 或 → 或 ↓ 或 ←`,mac:`${F.CTRL.toUpperCase()} + ↑ `},{label:"锁定",win:`${G.CTRL.toUpperCase()} + L `,mac:`${F.CTRL.toUpperCase()} + L `},{label:"解锁",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()}+ L `,mac:`${F.CTRL.toUpperCase()} + ${F.SHIFT.toUpperCase()} + L `},{label:"展示",win:`${G.CTRL.toUpperCase()} + H `,mac:`${F.CTRL.toUpperCase()} + H `},{label:"隐藏",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()} + H `,mac:`${F.CTRL.toUpperCase()} + ${F.SHIFT.toUpperCase()} + H `},{label:"删除",win:"Delete".toUpperCase(),mac:`${F.CTRL.toUpperCase()} + Backspace `},{label:"复制",win:`${G.CTRL.toUpperCase()} + C `,mac:`${F.CTRL.toUpperCase()} + C `},{label:"剪切",win:`${G.CTRL.toUpperCase()} + X `,mac:`${F.CTRL.toUpperCase()} + X `},{label:"粘贴",win:`${G.CTRL.toUpperCase()} + V `,mac:`${F.CTRL.toUpperCase()} + V `},{label:"后退",win:`${G.CTRL.toUpperCase()} + Z `,mac:`${F.CTRL.toUpperCase()} + Z `},{label:"前进",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()} + Z `,mac:`${F.CTRL.toUpperCase()} + ${F.SHIFT.toUpperCase()} + Z `},{label:"多选",win:`${G.CTRL.toUpperCase()} + 🖱️ `,mac:`${F.CTRL_SOURCE_KEY.toUpperCase()} + 🖱️ `},{label:"创建分组",win:`${G.CTRL.toUpperCase()} + G / 🖱️ `,mac:`${F.CTRL_SOURCE_KEY.toUpperCase()} + G / 🖱️`},{label:"解除分组",win:`${G.CTRL.toUpperCase()} + ${G.SHIFT.toUpperCase()} + G `,mac:`${F.CTRL_SOURCE_KEY.toUpperCase()} + ${G.SHIFT.toUpperCase()} + G `}],l=()=>{o("update:modelShow",!1)};return(g,u)=>{const d=H("n-icon"),p=H("n-space"),r=H("n-gradient-text"),s=H("n-table"),m=H("n-modal");return x(),X(m,{show:n.value,"onUpdate:show":u[0]||(u[0]=i=>n.value=i),"mask-closable":!0,onAfterLeave:l},{default:b(()=>[L(s,{class:"model-content",bordered:!1,"single-line":!1},{default:b(()=>[R("thead",null,[R("tr",null,[Vo,Wo,R("th",null,[L(p,{justify:"space-between"},{default:b(()=>[qo,L(d,{size:"20",class:"go-cursor-pointer",onClick:l},{default:b(()=>[L(c(a))]),_:1})]),_:1})])])]),R("tbody",null,[(x(),B(ae,null,ie(v,(i,y)=>R("tr",{key:y},[R("td",null,ne(i.label),1),R("td",null,ne(i.win),1),i.macSource?(x(),B("td",jo,ne(i.mac),1)):(x(),B("td",Jo,[L(r,{size:22},{default:b(()=>[_e(ne(i.mac.substr(0,1)),1)]),_:2},1024),_e(" + "+ne(i.mac.substr(3)),1)]))])),64))])]),_:1})]),_:1},8,["show"])}}});const Qo=ee(Zo,[["__scopeId","data-v-f19379a6"]]),en=e=>(De("data-v-f48c63d8"),e=e(),Ie(),e),tn={class:"go-edit-shortcut"},on=en(()=>R("span",null,"快捷键",-1)),nn=Z({__name:"index",setup(e){const{DicomOverlayIcon:o}=pe.carbon,t=K(!1);return(a,n)=>{const v=H("n-icon"),l=H("n-button"),g=H("n-tooltip");return x(),B("div",tn,[L(Qo,{modelShow:t.value,"onUpdate:modelShow":n[0]||(n[0]=u=>t.value=u)},null,8,["modelShow"]),L(g,{trigger:"hover"},{trigger:b(()=>[L(l,{class:"scale-btn",secondary:"",size:"small",onClick:n[1]||(n[1]=u=>t.value=!0)},{default:b(()=>[L(v,{size:"21",depth:3},{default:b(()=>[L(c(o))]),_:1})]),_:1})]),default:b(()=>[on]),_:1})])}}});const sn=ee(nn,[["__scopeId","data-v-f48c63d8"]]),an={class:"go-edit-bottom"},rn=Z({__name:"index",setup(e){me(E=>({"016b4d1d":n.value}));const{LockClosedOutlineIcon:o,LockOpenOutlineIcon:t}=pe.ionicons5,a=Ce(),n=K(a.getAppTheme),v=ht(),l=te(),{lockScale:g,scale:u}=Me(l.getEditCanvas),d=K(null);let p=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"自适应",value:0}];const r=K(""),s=E=>{var T;if((T=d.value)==null||T.blur(),E===0){v.setItemUnHandle(_t.RE_POSITION_CANVAS,!0),l.computedScale();return}l.setScale(E/100)},m=()=>{l.setEditCanvas(W.LOCK_SCALE,!g.value)},i=K(100),y=E=>`${E}%`,S=E=>{l.setScale(E/100)},w=We({100:""});return Ot(()=>{const E=(u.value*100).toFixed(0);r.value=`${E}%`,i.value=parseInt(E)}),(E,T)=>{const f=H("n-text"),k=H("n-space"),M=H("n-select"),oe=H("n-icon"),Y=H("n-button"),_=H("n-tooltip"),O=H("n-slider");return x(),B("div",an,[L(k,null,{default:b(()=>[L(c(zo)),L(f,{id:"keyboard-dress-show",depth:"3"})]),_:1}),L(k,{class:"bottom-ri"},{default:b(()=>[L(sn),L(M,{ref_key:"selectInstRef",ref:d,class:"scale-btn",value:r.value,"onUpdate:value":[T[0]||(T[0]=h=>r.value=h),s],size:"mini",disabled:c(g),options:c(p)},null,8,["value","disabled","options"]),L(_,{trigger:"hover"},{trigger:b(()=>[L(Y,{onClick:m,text:""},{default:b(()=>[L(oe,{class:se(["lock-icon",{color:c(g)}]),size:"18",depth:2},{default:b(()=>[c(g)?(x(),X(c(o),{key:0})):(x(),X(c(t),{key:1}))]),_:1},8,["class"])]),_:1})]),default:b(()=>[R("span",null,ne(c(g)?"解锁":"锁定")+"当前比例",1)]),_:1}),L(O,{class:"scale-slider",value:i.value,"onUpdate:value":[T[1]||(T[1]=h=>i.value=h),S],"default-value":50,min:10,max:200,step:5,"format-tooltip":y,disabled:c(g),marks:w},null,8,["value","disabled","marks"])]),_:1})])}}});const cn=ee(rn,[["__scopeId","data-v-880c3f29"]]),ge=te(),ln=()=>{ge.setTargetSelectChart(void 0),Ut(Ht(ge.getStorageInfo||[]),void 0,"json");const e=document.querySelector(".go-edit-range"),o=document.getElementById("go-edit-watermark");if(!e||!o){window.$message.error("导出失败！");return}const t=ge.getEditCanvas.scale;ge.setScale(1,!0),o.style.display="block",setTimeout(()=>{At(e,()=>{o&&(o.style.display="none"),ge.setScale(t,!0)})},600)},un=()=>{const e=K(),{updateComponent:o}=mt();return{importUploadFileListRef:e,importBeforeUpload:({file:n})=>{e.value=[];const v=n.file.type;return v!==st.JSON&&v!==st.TXT?(window.$message.warning("仅支持上传 【JSON】 格式文件，请重新上传！"),!1):!0},importCustomRequest:n=>{const{file:v}=n;Pt(()=>{v.file?Yt(v.file).then(l=>{eo({message:"请选择导入方式:",positiveText:"新增（可撤回）",negativeText:"覆盖（不可撤回）",negativeButtonProps:{type:"info",ghost:!1},onPositiveCallback:()=>ue(void 0,null,function*(){try{l=Ee(l),yield o(l,!1,!0),window.$message.success("导入成功！")}catch(g){console.log(g),window.$message.error("组件导入失败，请检查文件完整性!")}}),onNegativeCallback:()=>ue(void 0,null,function*(){try{l=Ee(l),yield o(l,!0,!0),window.$message.success("导入成功！")}catch(g){console.log(g),window.$message.error("组件导入失败，请检查文件完整性!")}})})}):window.$message.error("导入失败，请检查数据或联系管理员！")})}}};var re=(e=>(e.BUTTON="button",e.IMPORTUPLOAD="importUpload",e))(re||{});const dn={class:"btn-item"},pn=Z({__name:"index",setup(e){const{DownloadIcon:o,ShareIcon:t,PawIcon:a,SettingsSharpIcon:n,CreateIcon:v}=pe.ionicons5,l=ft(),g=te();Bt(),no();let u=null;const d=K(!1),p=K(!0),r=K(!0),{importUploadFileListRef:s,importCustomRequest:m,importBeforeUpload:i}=un(),y=$(()=>l.getChartToolsStatus===ot.ASIDE),S=$(()=>l.getChartToolsStatusHide),w=$(()=>p.value&&S.value),E=$(()=>{if(!y.value)return oe;const Y=[];return oe.map(_=>{Y.unshift(_)}),Y}),T=()=>{u=setTimeout(()=>{p.value&&(p.value=!1,r.value=!0)},200),setTimeout(()=>{r.value=!1},400)},f=()=>{clearTimeout(u),p.value||(p.value=!0)},k=()=>{window.$message.warning("请通过顶部【同步内容】按钮同步最新数据！"),g.setEditCanvas(W.IS_CODE_EDIT,!0),setTimeout(()=>{const Y=Gt(Nt.CHART_EDIT_NAME,"href");if(!Y)return;const _=gt();M(_),Kt(Y,[_],void 0,!0)},2e3)},M=Y=>{const _=g.getStorageInfo,O=Ft(we.GO_CHART_STORAGE_LIST)||[];if(O!=null&&O.length){const h=O.findIndex(I=>I.id===Y);h!==-1?(O.splice(h,1,fe(P({},_),{id:Y})),Ae(we.GO_CHART_STORAGE_LIST,O)):(O.push(fe(P({},_),{id:Y})),Ae(we.GO_CHART_STORAGE_LIST,O))}else Ae(we.GO_CHART_STORAGE_LIST,[fe(P({},_),{id:Y})])},oe=[{key:"import",type:re.IMPORTUPLOAD,name:"导入",icon:t},{key:"export",type:re.BUTTON,name:"导出",icon:o,handle:ln},{key:"edit",type:re.BUTTON,name:"编辑",icon:v,handle:k},{key:"setting",type:re.BUTTON,name:"设置",icon:n,handle:()=>{d.value=!0}}];return(Y,_)=>{const O=H("n-icon"),h=H("n-text"),I=H("n-button"),U=H("n-upload"),V=H("n-tooltip");return x(),B(ae,null,[R("div",{class:se(["go-chart-edit-tools",[c(l).getChartToolsStatus,w.value?"isMini":"unMini"]]),onClick:_[1]||(_[1]=A=>p.value&&(p.value=!1)),onMouseenter:T,onMouseleave:f},[Ue(L(O,{class:"asideLogo",size:"22"},{default:b(()=>[L(c(a))]),_:1},512),[[He,c(l).getChartToolsStatus===c(ot).ASIDE&&w.value]]),(x(!0),B(ae,null,ie(E.value,(A,ye)=>(x(),X(V,{key:A.key,disabled:!y.value||S.value&&r.value,trigger:"hover",placement:"left"},{trigger:b(()=>[R("div",dn,[A.type===c(re).BUTTON?(x(),X(I,{key:0,circle:y.value,secondary:"",onClick:A.handle},{icon:b(()=>[y.value?(x(),X(O,{key:0,size:"22"},{default:b(()=>[(x(),X(de(A.icon)))]),_:2},1024)):(x(),X(de(A.icon),{key:1}))]),default:b(()=>[Ue(L(h,{depth:"3"},{default:b(()=>[_e(ne(A.name),1)]),_:2},1536),[[He,!y.value]])]),_:2},1032,["circle","onClick"])):A.type===c(re).IMPORTUPLOAD?(x(),X(U,{key:1,"file-list":c(s),"onUpdate:fileList":_[0]||(_[0]=z=>Xt(s)?s.value=z:null),"show-file-list":!1,customRequest:c(m),onBeforeUpload:c(i)},{default:b(()=>[L(I,{circle:y.value,secondary:""},{icon:b(()=>[y.value?(x(),X(O,{key:0,size:"22"},{default:b(()=>[(x(),X(de(A.icon)))]),_:2},1024)):(x(),X(de(A.icon),{key:1}))]),default:b(()=>[Ue(L(h,{depth:"3"},{default:b(()=>[_e(ne(A.name),1)]),_:2},1536),[[He,!y.value]])]),_:2},1032,["circle"])]),_:2},1032,["file-list","customRequest","onBeforeUpload"])):he("",!0)])]),default:b(()=>[R("span",null,ne(A.name),1)]),_:2},1032,["disabled"]))),128))],34),L(c(oo),{modelShow:d.value,"onUpdate:modelShow":_[2]||(_[2]=A=>d.value=A)},null,8,["modelShow"])],64)}}});const fn=ee(pn,[["__scopeId","data-v-e02b533d"]]),vn=Z({__name:"index",setup(e){const o=te(),{handleContextMenu:t}=qe(),{updateComponent:a}=mt();zt(jt,null),so(()=>ue(this,null,function*(){}));const{mouseenterHandle:n,mouseleaveHandle:v,mousedownHandle:l,mouseClickHandle:g}=yt(),u=(E,T,f)=>{if(o.getTargetChart.selectId.length>1)return T.filter(M=>[J.GROUP,J.DELETE].includes(M.key));const k=[];return f.status.lock?k.push(J.LOCK):k.push(J.UNLOCK),f.status.hide?k.push(J.HIDE):k.push(J.SHOW),E.filter(M=>!k.includes(M.key))},d=$(()=>o.getEditCanvasConfig.chartThemeSetting),p=$(()=>dt(o.getEditCanvasConfig.chartCustomThemeColorInfo)[o.getEditCanvasConfig.chartThemeColor]);$(()=>o.getEditCanvasConfig.filterShow);const r=$(()=>{const E=o.getEditCanvasConfig.background,T=o.getEditCanvasConfig.backgroundImage,M=o.getEditCanvasConfig.selectColor?{background:E||void 0}:{background:`url(${T}) no-repeat center center / cover !important`};return fe(P({},M),{width:"inherit",height:"inherit"})}),s=gt();console.log("projectId:"+s);var m=sessionStorage.getItem("GO_CHART_STORAGE_LIST");if(m){var i=Ee(m+"");if(console.log("chartObjList:",i),i&&i.length>0)for(var y=0;y<i.length;y++){var S=i[y];if(S.id==s&&S.editCanvasConfig){console.log("to update",S);var w={editCanvasConfig:S.editCanvasConfig,componentList:S.componentList,requestGlobalConfig:S.requestGlobalConfig};a(w,!0);break}}}return ze(()=>{Jt()}),(E,T)=>(x(),X(c(to),{id:"go-chart-edit-layout",flex:!0,showTop:!1,showBottom:!0,depth:1,xScroll:!0,disabledScroll:!0,onMousedown:c(Ct),onDrop:c(ro),onDragover:c(at),onDragenter:c(at)},{aside:b(()=>[L(c(fn))]),bottom:b(()=>[L(c(cn))]),default:b(()=>[L(c(Oo),null,{default:b(()=>[R("div",{id:"go-chart-edit-content",onContextmenu:T[0]||(T[0]=(...f)=>c(t)&&c(t)(...f))},[L(c(bo),null,{default:b(()=>[R("div",{style:q(P(P({},c(be)(c(o).getEditCanvasConfig)),r.value))},[(x(!0),B(ae,null,ie(c(o).getComponentList,(f,k)=>(x(),B("div",{key:f.id},[f.isGroup?(x(),X(c(vo),{key:0,groupData:f,groupIndex:k},null,8,["groupData","groupIndex"])):(x(),X(c(Ne),{key:1,"data-id":f.id,index:k,style:q(P(P({},c(ke)(f.attr,k)),c(pt)(f.styles))),item:f,onClick:M=>c(g)(M,f),onMousedown:M=>c(l)(M,f),onMouseenter:M=>c(n)(M,f),onMouseleave:M=>c(v)(M,f),onContextmenu:M=>c(t)(M,f,u)},{default:b(()=>[(x(),X(de(f.chartConfig.chartKey),{class:se(["edit-content-chart",c(Xe)(f.styles.animations)]),chartConfig:f,themeSetting:d.value,themeColor:p.value,style:q(P(P(P({},c(le)(f.attr)),c(be)(f.styles)),c(Ge)(f.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","style","item","onClick","onMousedown","onMouseenter","onMouseleave","onContextmenu"]))]))),128))],4)]),_:1})],32)]),_:1})]),_:1},8,["onMousedown","onDrop","onDragover","onDragenter"]))}});const Hn=ee(vn,[["__scopeId","data-v-96058a74"]]);export{Hn as default};
